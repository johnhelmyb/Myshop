{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/John/Desktop/MyShopR/Myshop/frontend/src/Page/Login.js\";\nimport React, { Component } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport HeaderBar from '../components/HeaderBar';\nimport { Link } from 'react-router-dom';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport axios from 'axios';\nconst registerButton = {\n  background: 'green',\n  padding: '1em',\n  margin: '1em'\n};\nconst linkStyle = {\n  textDecoration: 'none',\n  color: 'white'\n};\nconst homeButton = {\n  background: 'mediumpurple',\n  padding: '1em',\n  margin: '1em'\n};\nconst loginButton = {\n  background: 'royalblue',\n  padding: '1em',\n  margin: '1em'\n};\nconst inputStyle = {\n  margin: '.5em'\n};\nconst title = {\n  pageTitle: 'Login Screen'\n};\n\nclass Login extends Component {\n  constructor() {\n    super();\n\n    this.handleChange = name => event => {\n      this.setState({\n        [name]: event.target.value\n      });\n    };\n\n    this.loginUser = e => {\n      e.preventDefault();\n      axios.get('http://localhost:3003/loginUser', {\n        params: {\n          username: this.state.username,\n          password: this.state.password\n        }\n      }).then(response => {\n        if (response.data === 'bad username' || response.data === 'passwords do not match') {\n          this.setState({\n            showError: true\n          });\n        } else {\n          localStorage.setItem('jwtToken', response.data.token);\n          this.setState({\n            loggedIn: true,\n            showError: false\n          });\n        }\n      }).catch(error => {\n        console.log(error.data);\n      });\n    };\n\n    this.state = {\n      username: '',\n      password: '',\n      loggedIn: false,\n      showError: false\n    };\n  }\n\n  render() {\n    const {\n      username,\n      password,\n      showError,\n      loggedIn\n    } = this.state;\n\n    if (!loggedIn) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(HeaderBar, {\n          title: title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          className: \"profile-form\",\n          onSubmit: this.loginUser,\n          children: [/*#__PURE__*/_jsxDEV(TextField, {\n            style: inputStyle,\n            id: \"username\",\n            label: \"username\",\n            value: username,\n            onChange: this.handleChange('username'),\n            placeholder: \"Username\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(TextField, {\n            style: inputStyle,\n            id: \"password\",\n            label: \"password\",\n            value: password,\n            onChange: this.handleChange('password'),\n            placeholder: \"Password\",\n            type: \"password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            style: loginButton,\n            type: \"submit\",\n            variant: \"contained\",\n            color: \"primary\",\n            children: \"Login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 11\n        }, this), showError && /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"That username or password isn't recognized. Please try again or register now.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            style: registerButton,\n            variant: \"contained\",\n            color: \"primary\",\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              style: linkStyle,\n              to: \"/register\",\n              children: \"Go Register\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 133,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          style: homeButton,\n          variant: \"contained\",\n          color: \"primary\",\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            style: linkStyle,\n            to: \"/\",\n            children: \"Go Home\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, this);\n    } else {\n      return /*#__PURE__*/_jsxDEV(Redirect, {\n        to: `/userProfile/${username}`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 14\n      }, this);\n    }\n  }\n\n}\n\nexport default Login;","map":{"version":3,"sources":["/Users/John/Desktop/MyShopR/Myshop/frontend/src/Page/Login.js"],"names":["React","Component","Redirect","HeaderBar","Link","Button","TextField","axios","registerButton","background","padding","margin","linkStyle","textDecoration","color","homeButton","loginButton","inputStyle","title","pageTitle","Login","constructor","handleChange","name","event","setState","target","value","loginUser","e","preventDefault","get","params","username","state","password","then","response","data","showError","localStorage","setItem","token","loggedIn","catch","error","console","log","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport HeaderBar from '../components/HeaderBar';\nimport { Link } from 'react-router-dom';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport axios from 'axios';\n\nconst registerButton = {\n  background: 'green',\n  padding: '1em',\n  margin: '1em',\n};\n\nconst linkStyle = {\n  textDecoration: 'none',\n  color: 'white',\n};\n\nconst homeButton = {\n  background: 'mediumpurple',\n  padding: '1em',\n  margin: '1em',\n};\n\nconst loginButton = {\n  background: 'royalblue',\n  padding: '1em',\n  margin: '1em',\n};\n\nconst inputStyle = {\n  margin: '.5em',\n};\n\nconst title = {\n  pageTitle: 'Login Screen',\n};\n\nclass Login extends Component {\n  constructor() {\n    super();\n\n    this.state = {\n      username: '',\n      password: '',\n      loggedIn: false,\n      showError: false,\n    };\n  }\n\n  handleChange = name => event => {\n    this.setState({\n      [name]: event.target.value,\n    });\n  };\n\n  loginUser = e => {\n    e.preventDefault();\n\n    axios\n      .get('http://localhost:3003/loginUser', {\n        params: {\n          username: this.state.username,\n          password: this.state.password,\n        },\n      })\n      .then(response => {\n        if (\n          response.data === 'bad username' ||\n          response.data === 'passwords do not match'\n        ) {\n          this.setState({\n            showError: true,\n          });\n        } else {\n          localStorage.setItem('jwtToken', response.data.token);\n          this.setState({\n            loggedIn: true,\n            showError: false,\n          });\n        }\n      })\n      .catch(error => {\n        console.log(error.data);\n      });\n  };\n\n  render() {\n    const { username, password, showError, loggedIn } = this.state;\n    if (!loggedIn) {\n      return (\n        <div>\n          <HeaderBar title={title} />\n          <form className=\"profile-form\" onSubmit={this.loginUser}>\n            <TextField\n              style={inputStyle}\n              id=\"username\"\n              label=\"username\"\n              value={username}\n              onChange={this.handleChange('username')}\n              placeholder=\"Username\"\n            />\n            <TextField\n              style={inputStyle}\n              id=\"password\"\n              label=\"password\"\n              value={password}\n              onChange={this.handleChange('password')}\n              placeholder=\"Password\"\n              type=\"password\"\n            />\n            <Button\n              style={loginButton}\n              type=\"submit\"\n              variant=\"contained\"\n              color=\"primary\"\n            >\n              Login\n            </Button>\n          </form>\n          {showError && (\n            <div>\n              <p>\n                That username or password isn't recognized. Please try again or\n                register now.\n              </p>\n              <Button\n                style={registerButton}\n                variant=\"contained\"\n                color=\"primary\"\n              >\n                <Link style={linkStyle} to=\"/register\">\n                  Go Register\n                </Link>\n              </Button>\n            </div>\n          )}\n          <Button style={homeButton} variant=\"contained\" color=\"primary\">\n            <Link style={linkStyle} to=\"/\">\n              Go Home\n            </Link>\n          </Button>\n        </div>\n      );\n    } else {\n      return <Redirect to={`/userProfile/${username}`} />;\n    }\n  }\n}\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}