{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/John/Desktop/MyShopR/Myshop/frontend/src/Page/Profile.js\";\nimport React, { Component } from 'react'; //import HeaderBar from '../components/HeaderBar';\n\nimport Button from '@material-ui/core/Button';\nimport { Link, Redirect } from 'react-router-dom';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableRow from '@material-ui/core/TableRow';\nimport axios from 'axios';\nconst linkStyle = {\n  textDecoration: 'none',\n  color: 'white'\n};\nconst deleteButton = {\n  background: 'red',\n  padding: '1em',\n  margin: '1em'\n};\nconst updateButton = {\n  background: 'orange',\n  padding: '1em',\n  margin: '1em'\n};\nconst loginButton = {\n  background: 'royalblue',\n  padding: '1em',\n  margin: '1em'\n};\nconst logoutButton = {\n  padding: '1em',\n  margin: '1em'\n};\nconst loading = {\n  margin: '1em',\n  fontSize: '24px'\n};\nconst title = {\n  pageTitle: 'User Profile Screen'\n};\n\nclass Profile extends Component {\n  constructor() {\n    super();\n\n    this.deleteUser = e => {\n      let accessString = localStorage.getItem('jwtToken');\n\n      if (accessString === null) {\n        this.setState({\n          loadingUser: false,\n          error: true\n        });\n      }\n\n      e.preventDefault();\n      axios.delete('http://localhost:3003/deleteUser', {\n        params: {\n          username: this.props.match.params.username\n        },\n        headers: {\n          'x-access-token': accessString\n        }\n      }).then(response => {\n        console.log(response.data);\n        localStorage.removeItem('jwtToken');\n        this.setState({\n          deleted: true\n        });\n      }).catch(error => {\n        console.log(error.data);\n      });\n    };\n\n    this.logout = e => {\n      e.preventDefault();\n      localStorage.removeItem('jwtToken');\n    };\n\n    this.state = {\n      first_name: '',\n      last_name: '',\n      email: '',\n      username: '',\n      password: '',\n      isLoading: true,\n      deleted: false,\n      error: false\n    };\n  }\n\n  async componentDidMount() {\n    let accessString = localStorage.getItem('jwtToken');\n\n    if (accessString === null) {\n      this.setState({\n        isLoading: false,\n        error: true\n      });\n    }\n\n    await axios.get('http://localhost:3003/findUser', {\n      params: {\n        username: this.props.match.params.username\n      },\n      headers: {\n        'x-access-token': accessString\n      }\n    }).then(response => {\n      this.setState({\n        first_name: response.data.first_name,\n        last_name: response.data.last_name,\n        email: response.data.email,\n        username: response.data.username,\n        password: response.data.password,\n        isLoading: false,\n        error: false\n      });\n    }).catch(error => {\n      console.log(error.data);\n    });\n  }\n\n  render() {\n    const {\n      first_name,\n      last_name,\n      email,\n      username,\n      password,\n      error,\n      isLoading,\n      deleted\n    } = this.state;\n\n    if (error) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(HeaderBar, {\n          title: title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: loading,\n          children: \"Problem fetching user data. Please login again.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          style: loginButton,\n          variant: \"contained\",\n          color: \"primary\",\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            style: linkStyle,\n            to: \"/login\",\n            children: \"Go Login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 9\n      }, this);\n    } else if (isLoading) {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(HeaderBar, {\n          title: title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: loading,\n          children: \"Loading User Data...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 9\n      }, this);\n    } else if (deleted) {\n      return /*#__PURE__*/_jsxDEV(Redirect, {\n        to: \"/\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 14\n      }, this);\n    } else {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(HeaderBar, {\n          title: title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Table, {\n          children: /*#__PURE__*/_jsxDEV(TableBody, {\n            children: [/*#__PURE__*/_jsxDEV(TableRow, {\n              children: [/*#__PURE__*/_jsxDEV(TableCell, {\n                children: \"First Name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 171,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                children: first_name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 172,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 170,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(TableRow, {\n              children: [/*#__PURE__*/_jsxDEV(TableCell, {\n                children: \"Last Name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 175,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                children: last_name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 176,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 174,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(TableRow, {\n              children: [/*#__PURE__*/_jsxDEV(TableCell, {\n                children: \"Email\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 179,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                children: email\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 180,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 178,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(TableRow, {\n              children: [/*#__PURE__*/_jsxDEV(TableCell, {\n                children: \"User Name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 183,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                children: username\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 184,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 182,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(TableRow, {\n              children: [/*#__PURE__*/_jsxDEV(TableCell, {\n                children: \"Password\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 187,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(TableCell, {\n                style: {\n                  WebkitTextSecurity: 'disc'\n                },\n                children: password\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 188,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 186,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          style: deleteButton,\n          variant: \"contained\",\n          color: \"primary\",\n          onClick: this.deleteUser,\n          children: \"Delete User\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          style: updateButton,\n          variant: \"contained\",\n          color: \"primary\",\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            style: linkStyle,\n            to: `/updateUser/${username}`,\n            children: \"Update User\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 203,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          style: logoutButton,\n          variant: \"contained\",\n          color: \"primary\",\n          onClick: this.logout,\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            style: linkStyle,\n            to: '/',\n            children: \"Logout\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 9\n      }, this);\n    }\n  }\n\n}\n\nexport default Profile;","map":{"version":3,"sources":["/Users/John/Desktop/MyShopR/Myshop/frontend/src/Page/Profile.js"],"names":["React","Component","Button","Link","Redirect","Table","TableBody","TableCell","TableRow","axios","linkStyle","textDecoration","color","deleteButton","background","padding","margin","updateButton","loginButton","logoutButton","loading","fontSize","title","pageTitle","Profile","constructor","deleteUser","e","accessString","localStorage","getItem","setState","loadingUser","error","preventDefault","delete","params","username","props","match","headers","then","response","console","log","data","removeItem","deleted","catch","logout","state","first_name","last_name","email","password","isLoading","componentDidMount","get","render","WebkitTextSecurity"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\n//import HeaderBar from '../components/HeaderBar';\nimport Button from '@material-ui/core/Button';\nimport { Link, Redirect } from 'react-router-dom';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableRow from '@material-ui/core/TableRow';\nimport axios from 'axios';\n\nconst linkStyle = {\n  textDecoration: 'none',\n  color: 'white',\n};\n\nconst deleteButton = {\n  background: 'red',\n  padding: '1em',\n  margin: '1em',\n};\n\nconst updateButton = {\n  background: 'orange',\n  padding: '1em',\n  margin: '1em',\n};\n\nconst loginButton = {\n  background: 'royalblue',\n  padding: '1em',\n  margin: '1em',\n};\n\nconst logoutButton = {\n  padding: '1em',\n  margin: '1em',\n};\n\nconst loading = {\n  margin: '1em',\n  fontSize: '24px',\n};\n\nconst title = {\n  pageTitle: 'User Profile Screen',\n};\n\nclass Profile extends Component {\n  constructor() {\n    super();\n\n    this.state = {\n      first_name: '',\n      last_name: '',\n      email: '',\n      username: '',\n      password: '',\n      isLoading: true,\n      deleted: false,\n      error: false,\n    };\n  }\n\n  async componentDidMount() {\n    let accessString = localStorage.getItem('jwtToken');\n    if (accessString === null) {\n      this.setState({\n        isLoading: false,\n        error: true,\n      });\n    }\n    await axios\n      .get('http://localhost:3003/findUser', {\n        params: {\n          username: this.props.match.params.username,\n        },\n        headers: { 'x-access-token': accessString },\n      })\n      .then(response => {\n        this.setState({\n          first_name: response.data.first_name,\n          last_name: response.data.last_name,\n          email: response.data.email,\n          username: response.data.username,\n          password: response.data.password,\n          isLoading: false,\n          error: false,\n        });\n      })\n      .catch(error => {\n        console.log(error.data);\n      });\n  }\n\n  deleteUser = e => {\n    let accessString = localStorage.getItem('jwtToken');\n    if (accessString === null) {\n      this.setState({\n        loadingUser: false,\n        error: true,\n      });\n    }\n\n    e.preventDefault();\n    axios\n      .delete('http://localhost:3003/deleteUser', {\n        params: {\n          username: this.props.match.params.username,\n        },\n        headers: { 'x-access-token': accessString },\n      })\n      .then(response => {\n        console.log(response.data);\n        localStorage.removeItem('jwtToken');\n        this.setState({\n          deleted: true,\n        });\n      })\n      .catch(error => {\n        console.log(error.data);\n      });\n  };\n\n  logout = e => {\n    e.preventDefault();\n    localStorage.removeItem('jwtToken');\n  };\n\n  render() {\n    const {\n      first_name,\n      last_name,\n      email,\n      username,\n      password,\n      error,\n      isLoading,\n      deleted,\n    } = this.state;\n\n    if (error) {\n      return (\n        <div>\n          <HeaderBar title={title} />\n          <div style={loading}>\n            Problem fetching user data. Please login again.\n          </div>\n          <Button style={loginButton} variant=\"contained\" color=\"primary\">\n            <Link style={linkStyle} to=\"/login\">\n              Go Login\n            </Link>\n          </Button>\n        </div>\n      );\n    } else if (isLoading) {\n      return (\n        <div>\n          <HeaderBar title={title} />\n          <div style={loading}>Loading User Data...</div>\n        </div>\n      );\n    } else if (deleted) {\n      return <Redirect to=\"/\" />;\n    } else {\n      return (\n        <div>\n          <HeaderBar title={title} />\n          <Table>\n            <TableBody>\n              <TableRow>\n                <TableCell>First Name</TableCell>\n                <TableCell>{first_name}</TableCell>\n              </TableRow>\n              <TableRow>\n                <TableCell>Last Name</TableCell>\n                <TableCell>{last_name}</TableCell>\n              </TableRow>\n              <TableRow>\n                <TableCell>Email</TableCell>\n                <TableCell>{email}</TableCell>\n              </TableRow>\n              <TableRow>\n                <TableCell>User Name</TableCell>\n                <TableCell>{username}</TableCell>\n              </TableRow>\n              <TableRow>\n                <TableCell>Password</TableCell>\n                <TableCell style={{ WebkitTextSecurity: 'disc' }}>\n                  {password}\n                </TableCell>\n              </TableRow>\n            </TableBody>\n          </Table>\n          <Button\n            style={deleteButton}\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={this.deleteUser}\n          >\n            Delete User\n          </Button>\n          <Button style={updateButton} variant=\"contained\" color=\"primary\">\n            <Link style={linkStyle} to={`/updateUser/${username}`}>\n              Update User\n            </Link>\n          </Button>\n          <Button\n            style={logoutButton}\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={this.logout}\n          >\n            <Link style={linkStyle} to={'/'}>\n              Logout\n            </Link>\n          </Button>\n        </div>\n      );\n    }\n  }\n}\n\nexport default Profile;\n"]},"metadata":{},"sourceType":"module"}